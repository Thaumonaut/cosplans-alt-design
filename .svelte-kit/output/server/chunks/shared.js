import{b as E,t as D,c as U}from"./utils.js";const x={"<":"\\u003C","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\u2028":"\\u2028","\u2029":"\\u2029"};class g extends Error{constructor(a,n){super(a),this.name="DevalueError",this.path=n.join("")}}function k(e){return Object(e)!==e}const v=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function R(e){const a=Object.getPrototypeOf(e);return a===Object.prototype||a===null||Object.getPrototypeOf(a)===null||Object.getOwnPropertyNames(a).sort().join("\0")===v}function B(e){return Object.prototype.toString.call(e).slice(8,-1)}function L(e){switch(e){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function A(e){let a="",n=0;const r=e.length;for(let c=0;c<r;c+=1){const s=e[c],d=L(s);d&&(a+=e.slice(n,c)+d,n=c+1)}return`"${n===0?e:a+e.slice(n)}"`}function M(e){return Object.getOwnPropertySymbols(e).filter(a=>Object.getOwnPropertyDescriptor(e,a).enumerable)}const F=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function $(e){return F.test(e)?"."+e:"["+JSON.stringify(e)+"]"}function V(e){const a=new DataView(e);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(a.getUint8(r));return G(n)}function Y(e){const a=Z(e),n=new ArrayBuffer(a.length),r=new DataView(n);for(let c=0;c<n.byteLength;c++)r.setUint8(c,a.charCodeAt(c));return n}const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Z(e){e.length%4===0&&(e=e.replace(/==?$/,""));let a="",n=0,r=0;for(let c=0;c<e.length;c++)n<<=6,n|=j.indexOf(e[c]),r+=6,r===24&&(a+=String.fromCharCode((n&16711680)>>16),a+=String.fromCharCode((n&65280)>>8),a+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,a+=String.fromCharCode(n)):r===18&&(n>>=2,a+=String.fromCharCode((n&65280)>>8),a+=String.fromCharCode(n&255)),a}function G(e){let a="";for(let n=0;n<e.length;n+=3){const r=[void 0,void 0,void 0,void 0];r[0]=e.charCodeAt(n)>>2,r[1]=(e.charCodeAt(n)&3)<<4,e.length>n+1&&(r[1]|=e.charCodeAt(n+1)>>4,r[2]=(e.charCodeAt(n+1)&15)<<2),e.length>n+2&&(r[2]|=e.charCodeAt(n+2)>>6,r[3]=e.charCodeAt(n+2)&63);for(let c=0;c<r.length;c++)typeof r[c]>"u"?a+="=":a+=j[r[c]]}return a}const O=-1,C=-2,N=-3,P=-4,h=-5,w=-6;function J(e,a){return z(JSON.parse(e),a)}function z(e,a){if(typeof e=="number")return c(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,r=Array(n.length);function c(s,d=!1){if(s===O)return;if(s===N)return NaN;if(s===P)return 1/0;if(s===h)return-1/0;if(s===w)return-0;if(d||typeof s!="number")throw new Error("Invalid input");if(s in r)return r[s];const o=n[s];if(!o||typeof o!="object")r[s]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const y=o[0],t=a?.[y];if(t){let l=o[1];return typeof l!="number"&&(l=n.push(o[1])-1),r[s]=t(c(l))}switch(y){case"Date":r[s]=new Date(o[1]);break;case"Set":const l=new Set;r[s]=l;for(let f=1;f<o.length;f+=1)l.add(c(o[f]));break;case"Map":const i=new Map;r[s]=i;for(let f=1;f<o.length;f+=2)i.set(c(o[f]),c(o[f+1]));break;case"RegExp":r[s]=new RegExp(o[1],o[2]);break;case"Object":r[s]=Object(o[1]);break;case"BigInt":r[s]=BigInt(o[1]);break;case"null":const m=Object.create(null);r[s]=m;for(let f=1;f<o.length;f+=2)m[o[f]]=c(o[f+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const f=globalThis[y],p=new f(c(o[1]));r[s]=o[2]!==void 0?p.subarray(o[2],o[3]):p;break}case"ArrayBuffer":{const f=o[1],p=Y(f);r[s]=p;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const f=y.slice(9);r[s]=Temporal[f].from(o[1]);break}case"URL":{const f=new URL(o[1]);r[s]=f;break}case"URLSearchParams":{const f=new URLSearchParams(o[1]);r[s]=f;break}default:throw new Error(`Unknown type ${y}`)}}else{const y=new Array(o.length);r[s]=y;for(let t=0;t<o.length;t+=1){const l=o[t];l!==C&&(y[t]=c(l))}}else{const y={};r[s]=y;for(const t in o){if(t==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const l=o[t];y[t]=c(l)}}return r[s]}return c(0)}function H(e,a){const n=[],r=new Map,c=[];if(a)for(const t of Object.getOwnPropertyNames(a))c.push({key:t,fn:a[t]});const s=[];let d=0;function o(t){if(typeof t=="function")throw new g("Cannot stringify a function",s);if(t===void 0)return O;if(Number.isNaN(t))return N;if(t===1/0)return P;if(t===-1/0)return h;if(t===0&&1/t<0)return w;if(r.has(t))return r.get(t);const l=d++;r.set(t,l);for(const{key:m,fn:f}of c){const p=f(t);if(p)return n[l]=`["${m}",${o(p)}]`,l}let i="";if(k(t))i=_(t);else{const m=B(t);switch(m){case"Number":case"String":case"Boolean":i=`["Object",${_(t)}]`;break;case"BigInt":i=`["BigInt",${t}]`;break;case"Date":i=`["Date","${!isNaN(t.getDate())?t.toISOString():""}"]`;break;case"URL":i=`["URL",${A(t.toString())}]`;break;case"URLSearchParams":i=`["URLSearchParams",${A(t.toString())}]`;break;case"RegExp":const{source:p,flags:I}=t;i=I?`["RegExp",${A(p)},"${I}"]`:`["RegExp",${A(p)}]`;break;case"Array":i="[";for(let u=0;u<t.length;u+=1)u>0&&(i+=","),u in t?(s.push(`[${u}]`),i+=o(t[u]),s.pop()):i+=C;i+="]";break;case"Set":i='["Set"';for(const u of t)i+=`,${o(u)}`;i+="]";break;case"Map":i='["Map"';for(const[u,b]of t)s.push(`.get(${k(u)?_(u):"..."})`),i+=`,${o(u)},${o(b)}`,s.pop();i+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const u=t;i='["'+m+'",'+o(u.buffer);const b=t.byteOffset,S=b+t.byteLength;if(b>0||S!==u.buffer.byteLength){const T=+/(\d+)/.exec(m)[1]/8;i+=`,${b/T},${S/T}`}i+="]";break}case"ArrayBuffer":{i=`["ArrayBuffer","${V(t)}"]`;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":i=`["${m}",${A(t.toString())}]`;break;default:if(!R(t))throw new g("Cannot stringify arbitrary non-POJOs",s);if(M(t).length>0)throw new g("Cannot stringify POJOs with symbolic keys",s);if(Object.getPrototypeOf(t)===null){i='["null"';for(const u in t)s.push($(u)),i+=`,${A(u)},${o(t[u])}`,s.pop();i+="]"}else{i="{";let u=!1;for(const b in t)u&&(i+=","),u=!0,s.push($(b)),i+=`${A(b)}:${o(t[b])}`,s.pop();i+="}"}}}return n[l]=i,l}const y=o(e);return y<0?`${y}`:`[${n.join(",")}]`}function _(e){const a=typeof e;return a==="string"?A(e):e instanceof String?A(e.toString()):e===void 0?O.toString():e===0&&1/e<0?w.toString():a==="bigint"?`["BigInt","${e}"]`:String(e)}const Q="x-sveltekit-invalidated",W="x-sveltekit-trailing-slash";function K(e,a){const n=Object.fromEntries(Object.entries(a).map(([r,c])=>[r,c.encode]));return H(e,n)}function X(e,a){if(e===void 0)return"";const n=K(e,a),r=new TextEncoder().encode(n);return E(r).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}function ee(e,a){if(!e)return;const n=D.decode(U(e.replaceAll("-","+").replaceAll("_","/"))),r=Object.fromEntries(Object.entries(a).map(([c,s])=>[c,s.decode]));return J(n,r)}function re(e,a){return e+"/"+a}export{g as D,Q as I,W as T,R as a,A as b,x as c,H as d,M as e,re as f,B as g,K as h,k as i,X as j,J as k,ee as p,$ as s};
