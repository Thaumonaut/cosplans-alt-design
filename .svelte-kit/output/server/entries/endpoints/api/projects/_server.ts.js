import{json as r}from"@sveltejs/kit";let o=[{id:1,title:"Nezuko Kamado",character:"Nezuko Kamado",series:"Demon Slayer",image:"/anime-character-purple-kimono.jpg",progress:75,budget:{spent:150,total:200},deadline:"2025-12-15",status:"in-progress",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-15")},{id:2,title:"Sailor Moon",character:"Usagi Tsukino",series:"Sailor Moon",image:"/jinx-arcane-blue-hair-twin-braids.jpg",progress:100,budget:{spent:180,total:180},status:"completed",createdAt:new Date("2024-12-01"),updatedAt:new Date("2024-12-20")},{id:3,title:"Gojo Satoru",character:"Gojo Satoru",series:"Jujutsu Kaisen",image:"/fantasy-warrior-white-hair-sword.jpg",progress:25,budget:{spent:50,total:300},deadline:"2026-03-20",status:"planning",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-01-10")}];const p=async({url:s})=>{try{await new Promise(n=>setTimeout(n,100));const e=s.searchParams.get("status"),t=parseInt(s.searchParams.get("limit")||"10"),c=parseInt(s.searchParams.get("offset")||"0");let a=o;e&&e!=="all"&&(a=o.filter(n=>n.status===e));const i=a.slice(c,c+t),d={data:i,success:!0,message:`Retrieved ${i.length} projects`};return r(d)}catch{return r({data:[],success:!1,message:"Failed to fetch projects"},{status:500})}},l=async({request:s})=>{try{const e=await s.json();if(!e.title||!e.character||!e.series)return r({data:{},success:!1,message:"Missing required fields: title, character, series"},{status:400});const t={id:Math.max(...o.map(a=>a.id),0)+1,title:e.title,character:e.character,series:e.series,image:e.image||"/placeholder.jpg",progress:e.progress||0,budget:e.budget||{spent:0,total:0},deadline:e.deadline,status:e.status||"idea",createdAt:new Date,updatedAt:new Date};return o.push(t),r({data:t,success:!0,message:"Project created successfully"},{status:201})}catch{return r({data:{},success:!1,message:"Failed to create project"},{status:500})}};export{p as GET,l as POST};
