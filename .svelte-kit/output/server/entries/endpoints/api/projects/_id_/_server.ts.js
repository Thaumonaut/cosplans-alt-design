import{json as s}from"@sveltejs/kit";let r=[{id:1,title:"Nezuko Kamado",character:"Nezuko Kamado",series:"Demon Slayer",image:"/anime-character-purple-kimono.jpg",progress:75,budget:{spent:150,total:200},deadline:"2025-12-15",status:"in-progress",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-15")},{id:2,title:"Sailor Moon",character:"Usagi Tsukino",series:"Sailor Moon",image:"/jinx-arcane-blue-hair-twin-braids.jpg",progress:100,budget:{spent:180,total:180},status:"completed",createdAt:new Date("2024-12-01"),updatedAt:new Date("2024-12-20")},{id:3,title:"Gojo Satoru",character:"Gojo Satoru",series:"Jujutsu Kaisen",image:"/fantasy-warrior-white-hair-sword.jpg",progress:25,budget:{spent:50,total:300},deadline:"2026-03-20",status:"planning",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-01-10")}];const i=async({params:n})=>{try{const a=parseInt(n.id);if(isNaN(a))return s({data:{},success:!1,message:"Invalid project ID"},{status:400});await new Promise(e=>setTimeout(e,50));const t=r.find(e=>e.id===a);return t?s({data:t,success:!0,message:"Project retrieved successfully"}):s({data:{},success:!1,message:"Project not found"},{status:404})}catch{return s({data:{},success:!1,message:"Failed to fetch project"},{status:500})}},p=async({params:n,request:a})=>{try{const t=parseInt(n.id);if(isNaN(t))return s({data:{},success:!1,message:"Invalid project ID"},{status:400});const o=await a.json(),e=r.findIndex(c=>c.id===t);if(e===-1)return s({data:{},success:!1,message:"Project not found"},{status:404});r[e]={...r[e],...o,updatedAt:new Date};const u={data:r[e],success:!0,message:"Project updated successfully"};return s(u)}catch{return s({data:{},success:!1,message:"Failed to update project"},{status:500})}},l=async({params:n})=>{try{const a=parseInt(n.id);if(isNaN(a))return s({data:null,success:!1,message:"Invalid project ID"},{status:400});const t=r.findIndex(e=>e.id===a);return t===-1?s({data:null,success:!1,message:"Project not found"},{status:404}):(r.splice(t,1),s({data:null,success:!0,message:"Project deleted successfully"}))}catch{return s({data:null,success:!1,message:"Failed to delete project"},{status:500})}};export{l as DELETE,i as GET,p as PUT};
