import{error as r}from"@sveltejs/kit";import{a}from"../../../../chunks/client.js";const l=async({params:c})=>{try{const e=parseInt(c.id);if(isNaN(e))throw r(400,"Invalid project ID");const[s,t,o]=await Promise.all([a.getProject(e),a.getTasks({projectId:e}),a.getEvents({projectId:e})]);if(!s.success)throw s.message?.includes("not found")?r(404,"Project not found"):r(500,s.message||"Failed to load project");return{project:s.data,tasks:t.success?t.data:[],events:o.success?o.data:[],errors:{tasks:t.success?null:t.message,events:o.success?null:o.message}}}catch(e){throw e&&typeof e=="object"&&"status"in e?e:(console.error("Project load error:",e),r(500,"Failed to load project"))}};export{l as load};
