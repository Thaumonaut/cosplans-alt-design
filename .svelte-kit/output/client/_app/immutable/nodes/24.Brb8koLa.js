import{H as Xe,g as Ye}from"../chunks/CWy00aCI.js";import"../chunks/HoXD5MjQ.js";import{a as ae}from"../chunks/BZeYbtOm.js";import{p as Ze,ai as et,b3 as I,b4 as tt,i as at,f as x,h as st,ag as rt,g as P,b5 as dt,a4 as vt,k as w,a as _,b as ot,b6 as z,d as se,b7 as it,c as t,b8 as r,w as e,b9 as F,E as ke,l as c,N as $e,V as lt,u as M,$ as nt,n as T,r as a,e as v,C as ct,v as je,y as De,B as ut,D as gt,z as Pe}from"../chunks/CpdYPIwz.js";import{B as pt}from"../chunks/BdgeB-LE.js";function R(B,p){throw new Xe(B,p)}const _t=async({params:B})=>{try{const p=parseInt(B.id);if(isNaN(p))throw R(400,"Invalid project ID");const[s,l,u]=await Promise.all([ae.getProject(p),ae.getTasks({projectId:p}),ae.getEvents({projectId:p})]);if(!s.success)throw s.message?.includes("not found")?R(404,"Project not found"):R(500,s.message||"Failed to load project");return{project:s.data,tasks:l.success?l.data:[],events:u.success?u.data:[],errors:{tasks:l.success?null:l.message,events:u.success?null:u.message}}}catch(p){throw p&&typeof p=="object"&&"status"in p?p:(console.error("Project load error:",p),R(500,"Failed to load project"))}},It=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var mt=x("<!> Back to Dashboard",1),ft=x('<div class="rounded-lg border p-4"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium">Deadline</span></div> <div class="mt-2"><div class="text-lg font-bold"> </div> <div class="text-xs text-muted-foreground"> </div></div></div>'),xt=x('<p class="text-sm text-destructive"> </p>'),bt=x('<p class="text-sm text-muted-foreground">No tasks yet</p>'),ht=x('<div class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300"/> <span> </span></div>'),yt=x('<p class="text-xs text-muted-foreground"> </p>'),wt=x('<div class="space-y-2"><!> <!></div>'),kt=x('<p class="text-sm text-destructive"> </p>'),$t=x('<p class="text-sm text-muted-foreground">No events scheduled</p>'),jt=x('<div class="rounded border p-3"><div class="font-medium text-sm"> </div> <div class="text-xs text-muted-foreground"> </div></div>'),Dt=x('<p class="text-xs text-muted-foreground"> </p>'),Pt=x('<div class="space-y-3"><!> <!></div>'),Tt=x('<div class="container mx-auto p-6"><div class="mb-6 flex items-center gap-4"><!></div> <div class="grid gap-6 lg:grid-cols-3"><div class="lg:col-span-2"><div class="rounded-lg border bg-card p-6"><div class="mb-6 flex items-start gap-4"><img class="h-32 w-32 rounded-lg object-cover"/> <div class="flex-1"><h1 class="mb-2 text-3xl font-bold"> </h1> <p class="mb-2 text-lg text-muted-foreground"> </p> <div class="flex items-center gap-2"><span> </span></div></div></div> <div class="mb-6"><div class="mb-2 flex items-center justify-between"><span class="text-sm font-medium">Progress</span> <span class="text-sm text-muted-foreground"> </span></div> <div class="h-2 w-full rounded-full bg-gray-200 dark:bg-gray-700"><div class="h-2 rounded-full bg-primary transition-all duration-300"></div></div></div> <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4"><div class="rounded-lg border p-4"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium">Budget</span></div> <div class="mt-2"><div class="text-lg font-bold"> </div> <div class="text-xs text-muted-foreground"> </div></div></div> <!> <div class="rounded-lg border p-4"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium">Tasks</span></div> <div class="mt-2"><div class="text-lg font-bold"> </div> <div class="text-xs text-muted-foreground">completed</div></div></div> <div class="rounded-lg border p-4"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium">Events</span></div> <div class="mt-2"><div class="text-lg font-bold"> </div> <div class="text-xs text-muted-foreground">scheduled</div></div></div></div></div></div> <div class="space-y-6"><div class="rounded-lg border bg-card p-6"><h3 class="mb-4 text-lg font-semibold">Tasks</h3> <!></div> <div class="rounded-lg border bg-card p-6"><h3 class="mb-4 text-lg font-semibold">Events</h3> <!></div></div></div></div>');function zt(B,p){Ze(p,!1);const s=F(),l=F(),u=F(),h=F();let k=et(p,"data",8);function Te(){Ye("/dashboard")}function re(d){return new Date(d).toLocaleDateString()}function de(d){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d)}I(()=>z(k()),()=>{M(s,k().project)}),I(()=>z(k()),()=>{M(l,k().tasks)}),I(()=>z(k()),()=>{M(u,k().events)}),I(()=>z(k()),()=>{M(h,k().errors)}),tt(),at();var H=Tt();st(d=>{w(()=>nt.title=`${e(s),r(()=>e(s).title)??""} - Cosplans`)});var O=t(H),Be=t(O);pt(Be,{variant:"ghost",size:"sm",$$events:{click:Te},children:(d,i)=>{var g=mt(),y=se(g);it(y,{class:"mr-2 h-4 w-4"}),T(),_(d,g)},$$slots:{default:!0}}),a(O);var ve=v(O,2),U=t(ve),oe=t(U),A=t(oe),L=t(A),ie=v(L,2),V=t(ie),Ce=t(V,!0);a(V);var q=v(V,2),Ne=t(q);a(q);var le=v(q,2),G=t(le),Se=t(G,!0);a(G),a(le),a(ie),a(A);var J=v(A,2),K=t(J),ne=v(t(K),2),Ee=t(ne);a(ne),a(K);var ce=v(K,2),Ie=t(ce);a(ce),a(J);var ue=v(J,2),Q=t(ue),W=t(Q),ze=t(W);rt(ze,{class:"h-4 w-4 text-muted-foreground"}),T(2),a(W);var ge=v(W,2),X=t(ge),Fe=t(X);a(X);var pe=v(X,2),Me=t(pe);a(pe),a(ge),a(Q);var _e=v(Q,2);{var Re=d=>{var i=ft(),g=t(i),y=t(g);ct(y,{class:"h-4 w-4 text-muted-foreground"}),T(2),a(g);var $=v(g,2),n=t($),m=t(n,!0);a(n);var j=v(n,2),C=t(j);a(j),a($),a(i),w((N,f)=>{c(m,N),c(C,`${f??""} days left`)},[()=>(e(s),r(()=>re(e(s).deadline))),()=>(e(s),r(()=>Math.ceil((new Date(e(s).deadline).getTime()-new Date().getTime())/864e5)))]),_(d,i)};P(_e,d=>{e(s),r(()=>e(s).deadline)&&d(Re)})}var Y=v(_e,2),Z=t(Y),He=t(Z);dt(He,{class:"h-4 w-4 text-muted-foreground"}),T(2),a(Z);var me=v(Z,2),fe=t(me),Oe=t(fe);a(fe),T(2),a(me),a(Y);var xe=v(Y,2),ee=t(xe),Ue=t(ee);vt(Ue,{class:"h-4 w-4 text-muted-foreground"}),T(2),a(ee);var be=v(ee,2),he=t(be),Ae=t(he,!0);a(he),T(2),a(be),a(xe),a(ue),a(oe),a(U);var ye=v(U,2),te=t(ye),Le=v(t(te),2);{var Ve=d=>{var i=xt(),g=t(i,!0);a(i),w(()=>c(g,(e(h),r(()=>e(h).tasks)))),_(d,i)},qe=d=>{var i=je(),g=se(i);{var y=n=>{var m=bt();_(n,m)},$=n=>{var m=wt(),j=t(m);De(j,1,()=>(e(l),r(()=>e(l).slice(0,5))),Pe,(f,o)=>{var b=ht(),D=t(b);ut(D);var S=v(D,2),E=t(S,!0);a(S),a(b),w(()=>{gt(D,(e(o),r(()=>e(o).completed))),$e(S,1,`text-sm ${e(o),r(()=>e(o).completed?"line-through text-muted-foreground":"")??""}`),c(E,(e(o),r(()=>e(o).title)))}),_(f,b)});var C=v(j,2);{var N=f=>{var o=yt(),b=t(o);a(o),w(()=>c(b,`+${e(l),r(()=>e(l).length-5)??""} more tasks`)),_(f,o)};P(C,f=>{e(l),r(()=>e(l).length>5)&&f(N)})}a(m),_(n,m)};P(g,n=>{e(l),r(()=>e(l).length===0)?n(y):n($,!1)},!0)}_(d,i)};P(Le,d=>{e(h),r(()=>e(h).tasks)?d(Ve):d(qe,!1)})}a(te);var we=v(te,2),Ge=v(t(we),2);{var Je=d=>{var i=kt(),g=t(i,!0);a(i),w(()=>c(g,(e(h),r(()=>e(h).events)))),_(d,i)},Ke=d=>{var i=je(),g=se(i);{var y=n=>{var m=$t();_(n,m)},$=n=>{var m=Pt(),j=t(m);De(j,1,()=>(e(u),r(()=>e(u).slice(0,3))),Pe,(f,o)=>{var b=jt(),D=t(b),S=t(D,!0);a(D);var E=v(D,2),Qe=t(E);a(E),a(b),w(We=>{c(S,(e(o),r(()=>e(o).title))),c(Qe,`${We??""} â€¢ ${e(o),r(()=>e(o).type)??""}`)},[()=>(e(o),r(()=>re(e(o).date.toString())))]),_(f,b)});var C=v(j,2);{var N=f=>{var o=Dt(),b=t(o);a(o),w(()=>c(b,`+${e(u),r(()=>e(u).length-3)??""} more events`)),_(f,o)};P(C,f=>{e(u),r(()=>e(u).length>3)&&f(N)})}a(m),_(n,m)};P(g,n=>{e(u),r(()=>e(u).length===0)?n(y):n($,!1)},!0)}_(d,i)};P(Ge,d=>{e(h),r(()=>e(h).events)?d(Je):d(Ke,!1)})}a(we),a(ye),a(ve),a(H),w((d,i,g,y,$)=>{ke(L,"src",(e(s),r(()=>e(s).image))),ke(L,"alt",(e(s),r(()=>e(s).character))),c(Ce,(e(s),r(()=>e(s).title))),c(Ne,`${e(s),r(()=>e(s).character)??""} from ${e(s),r(()=>e(s).series)??""}`),$e(G,1,`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium
                ${e(s),r(()=>e(s).status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":e(s).status==="in-progress"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":e(s).status==="planning"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300")??""}`),c(Se,d),c(Ee,`${e(s),r(()=>e(s).progress)??""}%`),lt(Ie,`width: ${e(s),r(()=>e(s).progress)??""}%`),c(Fe,`${i??""} / ${g??""}`),c(Me,`${y??""}% spent`),c(Oe,`${$??""} / ${e(l),r(()=>e(l).length)??""}`),c(Ae,(e(u),r(()=>e(u).length)))},[()=>(e(s),r(()=>e(s).status.replace("-"," "))),()=>(e(s),r(()=>de(e(s).budget.spent))),()=>(e(s),r(()=>de(e(s).budget.total))),()=>(e(s),r(()=>Math.round(e(s).budget.spent/e(s).budget.total*100))),()=>(e(l),r(()=>e(l).filter(d=>d.completed).length))]),_(B,H),ot()}export{zt as component,It as universal};
